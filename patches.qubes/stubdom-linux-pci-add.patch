--- a/tools/libxl/libxl_pci.c
+++ b/tools/libxl/libxl_pci.c
@@ -917,7 +917,13 @@ static int do_pci_add(libxl__gc *gc, uin
                 rc = qemu_pci_add_xenstore(gc, domid, pcidev);
                 break;
             case LIBXL_DEVICE_MODEL_VERSION_QEMU_XEN:
-                rc = libxl__qmp_pci_add(gc, domid, pcidev);
+                if (domid != 0
+                    && libxl__stubdomain_version_running(gc, domid) ==
+                         LIBXL_STUBDOMAIN_VERSION_LINUX) {
+                    rc = 0;
+                } else {
+                    rc = libxl__qmp_pci_add(gc, domid, pcidev);
+                }
                 break;
             default:
                 return ERROR_INVAL;
